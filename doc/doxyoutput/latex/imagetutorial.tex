\doxysection{Introduction}\label{imagetutorial_intro_imagetu}
Image datasets are becoming increasingly popular in deep learning.

mlpack\textquotesingle{}s image saving/loading functionality is based on {\texttt{ stb/}}.\doxysection{Table of Contents}\label{imagetutorial_toc_imagetu}
This tutorial is split into the following sections\+:


\begin{DoxyItemize}
\item \doxyref{Introduction}{p.}{imagetutorial_intro_imagetu}
\item \doxyref{Table of Contents}{p.}{imagetutorial_toc_imagetu}
\item \doxyref{Model API}{p.}{imagetutorial_model_api_imagetu}
\item \doxyref{Image\+Info}{p.}{imagetutorial_imageinfo_api_imagetu}
\item \doxyref{Load}{p.}{imagetutorial_load_api_imagetu}
\item \doxyref{Save}{p.}{imagetutorial_save_api_imagetu}
\end{DoxyItemize}\doxysection{Model API}\label{imagetutorial_model_api_imagetu}
Image utilities supports loading and saving of images.

It supports filetypes \char`\"{}jpg\char`\"{}, \char`\"{}png\char`\"{}, \char`\"{}tga\char`\"{},\char`\"{}bmp\char`\"{}, \char`\"{}psd\char`\"{}, \char`\"{}gif\char`\"{}, \char`\"{}hdr\char`\"{}, \char`\"{}pic\char`\"{}, \char`\"{}pnm\char`\"{} for loading and \char`\"{}jpg\char`\"{}, \char`\"{}png\char`\"{}, \char`\"{}tga\char`\"{}, \char`\"{}bmp\char`\"{}, \char`\"{}hdr\char`\"{} for saving.

The datatype associated is unsigned char to support RGB values in the range 1-\/255. To feed data into the network typecast of {\ttfamily arma\+::\+Mat} may be required. Images are stored in matrix as (width $\ast$ height $\ast$ channels, Number\+Of\+Images). Therefore image\+Matrix.\+col(0) would be the first image if images are loaded in image\+Matrix.\doxysection{Image\+Info}\label{imagetutorial_imageinfo_api_imagetu}
Image\+Info class contains the metadata of the images. 
\begin{DoxyCode}{0}
\DoxyCodeLine{}
\DoxyCodeLine{ImageInfo(\textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} width,}
\DoxyCodeLine{          \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} height,}
\DoxyCodeLine{          \textcolor{keyword}{const} \textcolor{keywordtype}{size\_t} channels);}

\end{DoxyCode}
 Other public memebers include\+:
\begin{DoxyItemize}
\item quality Compression of the image if saved as jpg (0-\/100).
\end{DoxyItemize}\doxysection{Load}\label{imagetutorial_load_api_imagetu}
Standalone loading of images. 
\begin{DoxyCode}{0}
\DoxyCodeLine{}
\DoxyCodeLine{ \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{ \textcolor{keywordtype}{bool} Load(\textcolor{keyword}{const} std::string\& filename,}
\DoxyCodeLine{           arma::Mat<eT>\& matrix,}
\DoxyCodeLine{           ImageInfo\& info,}
\DoxyCodeLine{           \textcolor{keyword}{const} \textcolor{keywordtype}{bool} fatal,}
\DoxyCodeLine{           \textcolor{keyword}{const} \textcolor{keywordtype}{bool} transpose);}

\end{DoxyCode}


Loading a test image. It also fills up the Image\+Info class object. 
\begin{DoxyCode}{0}
\DoxyCodeLine{data::ImageInfo info;}
\DoxyCodeLine{data::Load(\textcolor{stringliteral}{"{}test\_image.png"{}}, matrix, info, \textcolor{keyword}{false}, \textcolor{keyword}{true});}

\end{DoxyCode}


Image\+Info requires height, width, number of channels of the image.


\begin{DoxyCode}{0}
\DoxyCodeLine{\textcolor{keywordtype}{size\_t} height = 64, width = 64, channels = 1;}
\DoxyCodeLine{data::ImageInfo info(width, height, channels);}

\end{DoxyCode}


More than one image can be loaded into the same matrix.

Loading multiple images\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{}
\DoxyCodeLine{ \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{ \textcolor{keywordtype}{bool} Load(\textcolor{keyword}{const} std::vector<std::string>\& files,}
\DoxyCodeLine{           arma::Mat<eT>\& matrix,}
\DoxyCodeLine{           ImageInfo\& info,}
\DoxyCodeLine{           \textcolor{keyword}{const} \textcolor{keywordtype}{bool} fatal,}
\DoxyCodeLine{           \textcolor{keyword}{const} \textcolor{keywordtype}{bool} transpose);}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{data::ImageInfo info;}
\DoxyCodeLine{std::vector<std::string>> files\{\textcolor{stringliteral}{"{}test\_image1.bmp"{}},\textcolor{stringliteral}{"{}test\_image2.bmp"{}}\};}
\DoxyCodeLine{data::load(files, matrix, info, \textcolor{keyword}{false}, \textcolor{keyword}{true});}

\end{DoxyCode}
\doxysection{Save}\label{imagetutorial_save_api_imagetu}
Save images expects a matrix of type unsigned char in the form (width $\ast$ height $\ast$ channels, Number\+Of\+Images). Just like load it can be used to save one image or multiple images. Besides image data it also expects the shape of the image as input (width, height, channels).

Saving one image\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{}
\DoxyCodeLine{ \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{ \textcolor{keywordtype}{bool} Save(\textcolor{keyword}{const} std::string\& filename,}
\DoxyCodeLine{           arma::Mat<eT>\& matrix,}
\DoxyCodeLine{           ImageInfo\& info,}
\DoxyCodeLine{           \textcolor{keyword}{const} \textcolor{keywordtype}{bool} fatal,}
\DoxyCodeLine{           \textcolor{keyword}{const} \textcolor{keywordtype}{bool} transpose);}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{data::ImageInfo info;}
\DoxyCodeLine{info.width = info.height = 25;}
\DoxyCodeLine{info.channels = 3;}
\DoxyCodeLine{info.quality = 90;}
\DoxyCodeLine{data::Save(\textcolor{stringliteral}{"{}test\_image.bmp"{}}, matrix, info, \textcolor{keyword}{false}, \textcolor{keyword}{true});}

\end{DoxyCode}


If the matrix contains more than one image, only the first one is saved.

Saving multiple images\+:


\begin{DoxyCode}{0}
\DoxyCodeLine{}
\DoxyCodeLine{ \textcolor{keyword}{template}<\textcolor{keyword}{typename} eT>}
\DoxyCodeLine{ \textcolor{keywordtype}{bool} Save(\textcolor{keyword}{const} std::vector<std::string>\& files,}
\DoxyCodeLine{           arma::Mat<eT>\& matrix,}
\DoxyCodeLine{           ImageInfo\& info,}
\DoxyCodeLine{           \textcolor{keyword}{const} \textcolor{keywordtype}{bool} fatal,}
\DoxyCodeLine{           \textcolor{keyword}{const} \textcolor{keywordtype}{bool} transpose);}

\end{DoxyCode}



\begin{DoxyCode}{0}
\DoxyCodeLine{data::ImageInfo info;}
\DoxyCodeLine{info.width = info.height = 25;}
\DoxyCodeLine{info.channels = 3;}
\DoxyCodeLine{info.quality = 90;}
\DoxyCodeLine{std::vector<std::string>> files\{\textcolor{stringliteral}{"{}test\_image1.bmp"{}}, \textcolor{stringliteral}{"{}test\_image2.bmp"{}}\};}
\DoxyCodeLine{data::Save(files, matrix, info, \textcolor{keyword}{false}, \textcolor{keyword}{true});}

\end{DoxyCode}


Multiple images are saved according to the vector of filenames specified. 